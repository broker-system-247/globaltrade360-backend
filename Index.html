<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GlobalTrade360 - Professional Crypto & Forex Investment Platform</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://img.icons8.com/color/96/000000/bitcoin--v1.png">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <style>
        :root {
            --primary: #1a56db;
            --secondary: #0ea5e9;
            --success: #10b981;
            --warning: #f59e0b;
            --dark: #1f2937;
            --light: #f3f4f6;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f8fafc;
            min-height: 100vh;
        }
        
        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .nav-glass {
            background: rgba(15, 23, 42, 0.9) !important;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            padding: 12px 30px;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(26, 86, 219, 0.3);
        }
        
        .profit-badge {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        
        .live-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            animation: slideInRight 0.5s ease;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .crypto-price {
            font-family: 'Courier New', monospace;
            color: #22c55e;
            font-weight: bold;
        }
        
        .testimonial-card {
            transition: transform 0.3s ease;
        }
        
        .testimonial-card:hover {
            transform: translateY(-5px);
        }
        
        .ai-chat-bubble {
            max-width: 70%;
            margin: 10px;
            padding: 15px;
            border-radius: 20px;
        }
        
        .user-message {
            background: var(--primary);
            color: white;
            margin-left: auto;
        }
        
        .ai-message {
            background: var(--dark);
            color: white;
        }
        
        .deposit-address {
            font-family: monospace;
            background: rgba(0,0,0,0.3);
            padding: 10px;
            border-radius: 5px;
            font-size: 0.9rem;
            word-break: break-all;
        }
        
        .trading-view {
            height: 400px;
            background: #1e293b;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .profit-animation {
            position: absolute;
            color: #10b981;
            font-weight: bold;
            animation: floatUp 3s ease-in-out forwards;
        }
        
        @keyframes floatUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100px); opacity: 0; }
        }
        
        .trust-badge {
            filter: grayscale(100%);
            transition: filter 0.3s ease;
        }
        
        .trust-badge:hover {
            filter: grayscale(0%);
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark nav-glass fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <i class="fas fa-chart-line me-2" style="color: #0ea5e9;"></i>
                <span class="fw-bold">GlobalTrade360</span>
                <span class="badge bg-success ms-2">PRO</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="#home">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#markets">Markets</a></li>
                    <li class="nav-item"><a class="nav-link" href="#invest">Invest</a></li>
                    <li class="nav-item"><a class="nav-link" href="#ai-trade">AI Trade</a></li>
                    <li class="nav-item"><a class="nav-link" href="#testimonials">Testimonials</a></li>
                    <li class="nav-item"><a class="nav-link" href="#support">Support</a></li>
                    <li class="nav-item">
                        <button class="btn btn-outline-light ms-2" onclick="showAuthModal('login')" id="loginBtn">Login</button>
                        <button class="btn btn-primary ms-2" onclick="showAuthModal('register')" id="registerBtn">Register</button>
                        <div class="dropdown d-inline ms-2" id="userDropdown" style="display:none;">
                            <button class="btn btn-success dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                <i class="fas fa-user me-1"></i> <span id="usernameDisplay"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#" onclick="showDashboard()"><i class="fas fa-tachometer-alt me-2"></i>Dashboard</a></li>
                                <li><a class="dropdown-item" href="#" onclick="showWallet()"><i class="fas fa-wallet me-2"></i>Wallet</a></li>
                                <li><a class="dropdown-item" href="#" onclick="showInvestments()"><i class="fas fa-chart-pie me-2"></i>Investments</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#" onclick="logout()"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                            </ul>
                        </div>
                        <div class="dropdown d-inline ms-2" id="adminDropdown" style="display:none;">
                            <button class="btn btn-warning dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                <i class="fas fa-crown me-1"></i> Admin
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#" onclick="showAdminPanel()"><i class="fas fa-sliders-h me-2"></i>Admin Panel</a></li>
                                <li><a class="dropdown-item" href="#" onclick="showUserManagement()"><i class="fas fa-users me-2"></i>User Management</a></li>
                                <li><a class="dropdown-item" href="#" onclick="showCryptoAddresses()"><i class="fab fa-bitcoin me-2"></i>Crypto Addresses</a></li>
                                <li><a class="dropdown-item" href="#" onclick="showEmailSystem()"><i class="fas fa-envelope me-2"></i>Email System</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Live Notifications -->
    <div id="liveNotifications"></div>

    <!-- Main Content -->
    <div class="container-fluid pt-5 mt-5">
        <!-- Home/Hero Section -->
        <section id="home" class="py-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 mb-5 mb-lg-0">
                        <h1 class="display-4 fw-bold mb-4 animate__animated animate__fadeInUp">
                            Professional <span class="text-primary">Crypto & Forex</span> Trading Platform
                        </h1>
                        <p class="lead mb-4">Join thousands of successful investors using our AI-powered trading system. Automated profits, secure investments, and 24/7 professional support.</p>
                        <div class="d-flex flex-wrap gap-3 mb-4">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-shield-alt text-success me-2"></i>
                                <span>Licensed & Regulated</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-bolt text-warning me-2"></i>
                                <span>Instant Withdrawals</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-robot text-info me-2"></i>
                                <span>AI Trading Assistant</span>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-lg me-3" onclick="showAuthModal('register')">
                            <i class="fas fa-rocket me-2"></i>Start Investing Now
                        </button>
                        <button class="btn btn-outline-light btn-lg" onclick="showDemo()">
                            <i class="fas fa-play-circle me-2"></i>Live Demo
                        </button>
                    </div>
                    <div class="col-lg-6">
                        <div class="glass-card p-4 animate__animated animate__fadeIn">
                            <div class="d-flex justify-content-between align-items-center mb-4">
                                <h4 class="mb-0">Live Market</h4>
                                <span class="badge bg-danger">LIVE</span>
                            </div>
                            <div class="trading-view mb-4" id="tradingChart">
                                <!-- Chart will be injected here -->
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="glass-card p-3">
                                        <div class="d-flex justify-content-between">
                                            <span>BTC/USD</span>
                                            <span class="crypto-price" id="btcPrice">$63,842.15</span>
                                        </div>
                                        <small class="text-success"><i class="fas fa-arrow-up me-1"></i>+2.4%</small>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="glass-card p-3">
                                        <div class="d-flex justify-content-between">
                                            <span>ETH/USD</span>
                                            <span class="crypto-price" id="ethPrice">$3,215.67</span>
                                        </div>
                                        <small class="text-success"><i class="fas fa-arrow-up me-1"></i>+1.8%</small>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="glass-card p-3">
                                        <div class="d-flex justify-content-between">
                                            <span>EUR/USD</span>
                                            <span class="crypto-price" id="eurPrice">1.0824</span>
                                        </div>
                                        <small class="text-danger"><i class="fas fa-arrow-down me-1"></i>-0.3%</small>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="glass-card p-3">
                                        <div class="d-flex justify-content-between">
                                            <span>Total Volume</span>
                                            <span class="crypto-price">$4.2B</span>
                                        </div>
                                        <small class="text-success">24h Trading</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Trust Badges Section -->
        <section class="py-5">
            <div class="container">
                <div class="text-center mb-5">
                    <h2 class="fw-bold">Trusted & Licensed Platform</h2>
                    <p class="text-muted">Regulated by international financial authorities</p>
                </div>
                <div class="row justify-content-center">
                    <div class="col-md-10">
                        <div class="glass-card p-5">
                            <div class="row text-center">
                                <div class="col-md-3 mb-4">
                                    <img src="https://img.icons8.com/color/96/000000/ssl-logo.png" class="trust-badge" alt="SSL Secure">
                                    <p class="mt-2">256-bit SSL Encryption</p>
                                </div>
                                <div class="col-md-3 mb-4">
                                    <img src="https://img.icons8.com/color/96/000000/security-checked.png" class="trust-badge" alt="Licensed">
                                    <p class="mt-2">FCA Licensed</p>
                                </div>
                                <div class="col-md-3 mb-4">
                                    <img src="https://img.icons8.com/color/96/000000/firewall.png" class="trust-badge" alt="Protected">
                                    <p class="mt-2">Funds Protected</p>
                                </div>
                                <div class="col-md-3 mb-4">
                                    <img src="https://img.icons8.com/color/96/000000/cyber-security.png" class="trust-badge" alt="Insurance">
                                    <p class="mt-2">$1M Insurance</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Investment Plans -->
        <section id="invest" class="py-5">
            <div class="container">
                <div class="text-center mb-5">
                    <h2 class="fw-bold">Investment Plans</h2>
                    <p class="text-muted">Choose from our proven profitable investment strategies</p>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-4">
                        <div class="glass-card p-4 h-100">
                            <div class="text-center mb-4">
                                <i class="fas fa-star fa-3x text-warning mb-3"></i>
                                <h4>Basic Plan</h4>
                                <h2 class="text-success">3.2% <small class="text-muted">Daily</small></h2>
                            </div>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Minimum: $500</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Maximum: $5,000</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Duration: 30 Days</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Capital Return: Yes</li>
                            </ul>
                            <button class="btn btn-primary w-100 mt-3" onclick="investNow('basic')">Invest Now</button>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="glass-card p-4 h-100" style="border: 2px solid #0ea5e9;">
                            <div class="text-center mb-4">
                                <span class="badge bg-primary mb-2">MOST POPULAR</span>
                                <i class="fas fa-crown fa-3x text-warning mb-3"></i>
                                <h4>Pro Plan</h4>
                                <h2 class="text-success">4.8% <small class="text-muted">Daily</small></h2>
                            </div>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Minimum: $5,000</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Maximum: $50,000</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Duration: 60 Days</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Capital Return: Yes</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>AI Trading Signals</li>
                            </ul>
                            <button class="btn btn-primary w-100 mt-3" onclick="investNow('pro')">Invest Now</button>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="glass-card p-4 h-100">
                            <div class="text-center mb-4">
                                <i class="fas fa-rocket fa-3x text-danger mb-3"></i>
                                <h4>VIP Plan</h4>
                                <h2 class="text-success">7.5% <small class="text-muted">Daily</small></h2>
                            </div>
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Minimum: $50,000</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Maximum: Unlimited</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Duration: 90 Days</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>24/7 Personal Manager</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Priority Withdrawals</li>
                            </ul>
                            <button class="btn btn-primary w-100 mt-3" onclick="investNow('vip')">Invest Now</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Trading Section -->
        <section id="ai-trade" class="py-5">
            <div class="container">
                <div class="glass-card p-5">
                    <div class="row align-items-center">
                        <div class="col-lg-6 mb-4 mb-lg-0">
                            <h2 class="fw-bold mb-4">AI Trading Assistant</h2>
                            <p class="mb-4">Our advanced AI analyzes market trends 24/7 to provide you with optimal trading signals. Get real-time buy/sell recommendations.</p>
                            <div class="mb-4">
                                <div class="d-flex align-items-center mb-3">
                                    <div class="bg-primary rounded-circle p-2 me-3">
                                        <i class="fas fa-brain text-white"></i>
                                    </div>
                                    <div>
                                        <h5 class="mb-1">Market Analysis</h5>
                                        <p class="text-muted mb-0">Real-time pattern recognition</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center mb-3">
                                    <div class="bg-success rounded-circle p-2 me-3">
                                        <i class="fas fa-chart-line text-white"></i>
                                    </div>
                                    <div>
                                        <h5 class="mb-1">Trade Signals</h5>
                                        <p class="text-muted mb-0">Precise entry & exit points</p>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <div class="bg-warning rounded-circle p-2 me-3">
                                        <i class="fas fa-shield-alt text-white"></i>
                                    </div>
                                    <div>
                                        <h5 class="mb-1">Risk Management</h5>
                                        <p class="text-muted mb-0">Automated stop-loss protection</p>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-primary" onclick="showAIChat()">
                                <i class="fas fa-robot me-2"></i>Chat with AI Assistant
                            </button>
                        </div>
                        <div class="col-lg-6">
                            <div class="glass-card p-4">
                                <h5 class="mb-3">Today's AI Recommendations</h5>
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>BTC/USD</span>
                                        <span class="badge bg-success">STRONG BUY</span>
                                    </div>
                                    <div class="progress" style="height: 8px;">
                                        <div class="progress-bar bg-success" style="width: 85%"></div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>ETH/USD</span>
                                        <span class="badge bg-warning">HOLD</span>
                                    </div>
                                    <div class="progress" style="height: 8px;">
                                        <div class="progress-bar bg-warning" style="width: 60%"></div>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <div class="d-flex justify-content-between mb-2">
                                        <span>EUR/USD</span>
                                        <span class="badge bg-danger">SELL</span>
                                    </div>
                                    <div class="progress" style="height: 8px;">
                                        <div class="progress-bar bg-danger" style="width: 40%"></div>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <h6>AI Confidence Level: <span class="text-success">92%</span></h6>
                                    <p class="small text-muted">Based on 1,200+ data points and market indicators</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials -->
        <section id="testimonials" class="py-5">
            <div class="container">
                <div class="text-center mb-5">
                    <h2 class="fw-bold">Client Testimonials</h2>
                    <p class="text-muted">See what our investors are saying</p>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-4">
                        <div class="glass-card p-4 h-100 testimonial-card">
                            <div class="d-flex align-items-center mb-3">
                                <img src="https://randomuser.me/api/portraits/men/32.jpg" class="rounded-circle me-3" width="50" alt="Client">
                                <div>
                                    <h5 class="mb-0">Michael Rodriguez</h5>
                                    <small class="text-muted">Professional Trader</small>
                                </div>
                            </div>
                            <p class="mb-3">"Made $45,000 in my first month. The AI signals are incredibly accurate!"</p>
                            <div class="text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="glass-card p-4 h-100 testimonial-card">
                            <div class="d-flex align-items-center mb-3">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" class="rounded-circle me-3" width="50" alt="Client">
                                <div>
                                    <h5 class="mb-0">Sarah Johnson</h5>
                                    <small class="text-muted">Business Owner</small>
                                </div>
                            </div>
                            <p class="mb-3">"Withdrew $120,000 profit last week. Platform is reliable and withdrawals are instant."</p>
                            <div class="text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="glass-card p-4 h-100 testimonial-card">
                            <div class="d-flex align-items-center mb-3">
                                <img src="https://randomuser.me/api/portraits/men/65.jpg" class="rounded-circle me-3" width="50" alt="Client">
                                <div>
                                    <h5 class="mb-0">David Chen</h5>
                                    <small class="text-muted">Investor</small>
                                </div>
                            </div>
                            <p class="mb-3">"The automated trading has generated consistent 4-7% daily returns. Highly recommend!"</p>
                            <div class="text-warning">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="py-5 border-top border-secondary">
            <div class="container">
                <div class="row">
                    <div class="col-md-4 mb-4">
                        <h5 class="fw-bold mb-3">GlobalTrade360</h5>
                        <p>Professional crypto and forex investment platform with AI-powered trading and automated profits.</p>
                        <div class="d-flex gap-3">
                            <a href="#" class="text-light"><i class="fab fa-twitter fa-lg"></i></a>
                            <a href="#" class="text-light"><i class="fab fa-telegram fa-lg"></i></a>
                            <a href="#" class="text-light"><i class="fab fa-linkedin fa-lg"></i></a>
                        </div>
                    </div>
                    <div class="col-md-2 mb-4">
                        <h6 class="fw-bold mb-3">Platform</h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="#markets" class="text-light text-decoration-none">Markets</a></li>
                            <li class="mb-2"><a href="#invest" class="text-light text-decoration-none">Investment Plans</a></li>
                            <li class="mb-2"><a href="#ai-trade" class="text-light text-decoration-none">AI Trading</a></li>
                            <li class="mb-2"><a href="#" onclick="showSupport()" class="text-light text-decoration-none">Support</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 mb-4">
                        <h6 class="fw-bold mb-3">Legal</h6>
                        <ul class="list-unstyled">
                            <li class="mb-2"><a href="#" class="text-light text-decoration-none">Terms of Service</a></li>
                            <li class="mb-2"><a href="#" class="text-light text-decoration-none">Privacy Policy</a></li>
                            <li class="mb-2"><a href="#" class="text-light text-decoration-none">Risk Disclosure</a></li>
                            <li class="mb-2"><a href="#" class="text-light text-decoration-none">AML Policy</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 mb-4">
                        <h6 class="fw-bold mb-3">Contact</h6>
                        <p><i class="fas fa-envelope me-2"></i>support@globaltrade360.com</p>
                        <p><i class="fas fa-envelope me-2"></i>stevenlogan362@gmail.com</p>
                        <p class="small text-muted">24/7 Support Available</p>
                    </div>
                </div>
                <hr class="my-4">
                <div class="text-center">
                    <p class="mb-0">Â© 2024 GlobalTrade360. All rights reserved. Licensed & Regulated.</p>
                    <p class="small text-muted mt-2">CFDs are complex instruments and come with a high risk of losing money rapidly due to leverage. 78% of retail investor accounts lose money when trading CFDs.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modals -->
    <!-- Auth Modal -->
    <div class="modal fade" id="authModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content glass-card">
                <div class="modal-header border-0">
                    <h5 class="modal-title" id="authModalTitle">Login to Your Account</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="authForms">
                        <!-- Login Form -->
                        <form id="loginForm" style="display: none;">
                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control bg-dark text-light border-secondary" id="loginEmail" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Password</label>
                                <input type="password" class="form-control bg-dark text-light border-secondary" id="loginPassword" required>
                            </div>
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="rememberMe">
                                <label class="form-check-label">Remember me</label>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Login</button>
                            <p class="text-center mt-3">
                                Don't have an account? 
                                <a href="#" class="text-primary" onclick="switchAuthForm('register')">Register</a>
                            </p>
                        </form>

                        <!-- Register Form -->
                        <form id="registerForm" style="display: none;">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">First Name</label>
                                    <input type="text" class="form-control bg-dark text-light border-secondary" id="firstName" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Last Name</label>
                                    <input type="text" class="form-control bg-dark text-light border-secondary" id="lastName" required>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control bg-dark text-light border-secondary" id="registerEmail" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Password</label>
                                <input type="password" class="form-control bg-dark text-light border-secondary" id="registerPassword" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Confirm Password</label>
                                <input type="password" class="form-control bg-dark text-light border-secondary" id="confirmPassword" required>
                            </div>
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="acceptTerms" required>
                                <label class="form-check-label">I agree to Terms & Conditions</label>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Create Account</button>
                            <p class="text-center mt-3">
                                Already have an account? 
                                <a href="#" class="text-primary" onclick="switchAuthForm('login')">Login</a>
                            </p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Modal -->
    <div class="modal fade" id="dashboardModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content glass-card">
                <div class="modal-header border-0">
                    <h5 class="modal-title">Investment Dashboard</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="glass-card p-3 text-center">
                                <small class="text-muted">Total Balance</small>
                                <h3 class="text-success mb-0" id="totalBalance">$0.00</h3>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="glass-card p-3 text-center">
                                <small class="text-muted">Active Investments</small>
                                <h3 class="text-primary mb-0" id="activeInvestments">0</h3>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="glass-card p-3 text-center">
                                <small class="text-muted">Total Profit</small>
                                <h3 class="text-warning mb-0" id="totalProfit">$0.00</h3>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="glass-card p-3 text-center">
                                <small class="text-muted">Today's Profit</small>
                                <h3 class="text-success mb-0" id="todayProfit">$0.00</h3>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h5>Deposit Funds</h5>
                        <div class="glass-card p-4">
                            <div class="mb-3">
                                <label class="form-label">Amount ($)</label>
                                <input type="number" class="form-control bg-dark text-light border-secondary" id="depositAmount" min="100">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Select Currency</label>
                                <select class="form-select bg-dark text-light border-secondary" id="depositCurrency">
                                    <option value="BTC">Bitcoin (BTC)</option>
                                    <option value="ETH">Ethereum (ETH)</option>
                                    <option value="USDT">USDT (TRC20)</option>
                                    <option value="USDC">USDC</option>
                                </select>
                            </div>
                            <div id="cryptoAddresses">
                                <!-- Crypto addresses will be loaded here -->
                            </div>
                            <button class="btn btn-primary" onclick="processDeposit()">Generate Deposit Address</button>
                        </div>
                    </div>

                    <div class="mb-4">
                        <h5>Withdraw Funds</h5>
                        <div class="glass-card p-4">
                            <div class="mb-3">
                                <label class="form-label">Amount ($)</label>
                                <input type="number" class="form-control bg-dark text-light border-secondary" id="withdrawAmount">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Wallet Address</label>
                                <input type="text" class="form-control bg-dark text-light border-secondary" id="withdrawWallet" placeholder="Enter your crypto wallet address">
                            </div>
                            <button class="btn btn-success" onclick="processWithdrawal()">Request Withdrawal</button>
                        </div>
                    </div>

                    <div>
                        <h5>Investment History</h5>
                        <div class="glass-card p-3">
                            <div class="table-responsive">
                                <table class="table table-dark table-hover">
                                    <thead>
                                        <tr>
                                            <th>Plan</th>
                                            <th>Amount</th>
                                            <th>Start Date</th>
                                            <th>End Date</th>
                                            <th>Profit</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="investmentHistory">
                                        <!-- Investment history will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Chat Modal -->
    <div class="modal fade" id="aiChatModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content glass-card">
                <div class="modal-header border-0">
                    <h5 class="modal-title"><i class="fas fa-robot me-2"></i>AI Trading Assistant</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="chat-container" style="height: 400px; overflow-y: auto;" id="chatMessages">
                        <!-- Chat messages will appear here -->
                        <div class="ai-message ai-chat-bubble mb-3">
                            <strong>AI Assistant:</strong> Hello! I'm your AI trading assistant. I can help you with investment advice, market analysis, or answer any questions about our platform. How can I assist you today?
                        </div>
                    </div>
                    <div class="input-group mt-3">
                        <input type="text" class="form-control bg-dark text-light border-secondary" id="chatInput" placeholder="Type your message...">
                        <button class="btn btn-primary" onclick="sendAIMessage()">Send</button>
                    </div>
                    <div class="mt-3">
                        <small class="text-muted">Need support? Type "support" or describe your issue. Admin will contact you at your registered email.</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div class="modal fade" id="adminPanelModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content glass-card">
                <div class="modal-header border-0">
                    <h5 class="modal-title"><i class="fas fa-crown me-2"></i>Admin Control Panel</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <ul class="nav nav-tabs mb-4">
                        <li class="nav-item">
                            <button class="nav-link active" onclick="showAdminTab('crypto')">Crypto Addresses</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" onclick="showAdminTab('users')">User Management</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" onclick="showAdminTab('email')">Email System</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" onclick="showAdminTab('complaints')">AI Complaints</button>
                        </li>
                    </ul>

                    <div id="adminCryptoTab">
                        <h5>Manage Crypto Deposit Addresses</h5>
                        <div class="glass-card p-4 mb-4">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Bitcoin (BTC) Address</label>
                                    <input type="text" class="form-control bg-dark text-light border-secondary" id="adminBtcAddress">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Ethereum (ETH) Address</label>
                                    <input type="text" class="form-control bg-dark text-light border-secondary" id="adminEthAddress">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">USDT (TRC20) Address</label>
                                    <input type="text" class="form-control bg-dark text-light border-secondary" id="adminUsdtAddress">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">USDC Address</label>
                                    <input type="text" class="form-control bg-dark text-light border-secondary" id="adminUsdcAddress">
                                </div>
                            </div>
                            <button class="btn btn-primary" onclick="saveCryptoAddresses()">Save Addresses</button>
                        </div>
                    </div>

                    <div id="adminUsersTab" style="display: none;">
                        <h5>User Management</h5>
                        <div class="glass-card p-3">
                            <div class="table-responsive">
                                <table class="table table-dark table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Balance</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="usersTable">
                                        <!-- Users will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div id="adminEmailTab" style="display: none;">
                        <h5>Email System</h5>
                        <div class="glass-card p-4">
                            <div class="mb-3">
                                <label class="form-label">Select User</label>
                                <select class="form-select bg-dark text-light border-secondary" id="emailUserSelect">
                                    <option value="all">All Users</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Subject</label>
                                <input type="text" class="form-control bg-dark text-light border-secondary" id="emailSubject">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Message</label>
                                <textarea class="form-control bg-dark text-light border-secondary" id="emailMessage" rows="5"></textarea>
                            </div>
                            <button class="btn btn-primary" onclick="sendBulkEmail()">Send Email</button>
                        </div>
                    </div>

                    <div id="adminComplaintsTab" style="display: none;">
                        <h5>AI Chat Complaints</h5>
                        <div class="glass-card p-3">
                            <div class="table-responsive">
                                <table class="table table-dark table-hover">
                                    <thead>
                                        <tr>
                                            <th>User</th>
                                            <th>Message</th>
                                            <th>Date</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="complaintsTable">
                                        <!-- Complaints will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <script>
        // Application State
        let currentUser = null;
        let isAdmin = false;
        let marketData = {
            btc: 63842.15,
            eth: 3215.67,
            eur: 1.0824
        };

        // Initialize on load
        $(document).ready(function() {
            checkAuthStatus();
            initializeMarketData();
            startLiveNotifications();
            startProfitAccumulation();
            loadCryptoAddresses();
            
            // Form submissions
            $('#loginForm').submit(function(e) {
                e.preventDefault();
                loginUser();
            });

            $('#registerForm').submit(function(e) {
                e.preventDefault();
                registerUser();
            });
        });

        // Authentication Functions
        function showAuthModal(type) {
            $('#authModal').modal('show');
            switchAuthForm(type);
        }

        function switchAuthForm(type) {
            if (type === 'login') {
                $('#loginForm').show();
                $('#registerForm').hide();
                $('#authModalTitle').text('Login to Your Account');
            } else {
                $('#loginForm').hide();
                $('#registerForm').show();
                $('#authModalTitle').text('Create New Account');
            }
        }

        function loginUser() {
            const email = $('#loginEmail').val();
            const password = $('#loginPassword').val();
            const rememberMe = $('#rememberMe').is(':checked');

            // Check for admin login
            if (email === 'admin@globaltrade360.com' && password === 'myhandwork2025') {
                currentUser = {
                    email: email,
                    name: 'Administrator',
                    isAdmin: true
                };
                isAdmin = true;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                localStorage.setItem('isAdmin', 'true');
                updateUIAfterLogin();
                $('#authModal').modal('hide');
                showNotification('success', 'Admin login successful!');
                return;
            }

            // Regular user login
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);

            if (user) {
                currentUser = user;
                isAdmin = false;
                if (rememberMe) {
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    localStorage.setItem('isAdmin', 'false');
                } else {
                    sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
                    sessionStorage.setItem('isAdmin', 'false');
                }
                updateUIAfterLogin();
                $('#authModal').modal('hide');
                showNotification('success', 'Login successful!');
            } else {
                showNotification('error', 'Invalid email or password');
            }
        }

        function registerUser() {
            const firstName = $('#firstName').val();
            const lastName = $('#lastName').val();
            const email = $('#registerEmail').val();
            const password = $('#registerPassword').val();
            const confirmPassword = $('#confirmPassword').val();

            if (password !== confirmPassword) {
                showNotification('error', 'Passwords do not match');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            if (users.find(u => u.email === email)) {
                showNotification('error', 'Email already registered');
                return;
            }

            const newUser = {
                id: Date.now(),
                firstName,
                lastName,
                email,
                password,
                balance: 0,
                investments: [],
                transactions: [],
                joinDate: new Date().toISOString()
            };

            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            showNotification('success', 'Registration successful! Please login.');
            switchAuthForm('login');
        }

        function checkAuthStatus() {
            const savedUser = localStorage.getItem('currentUser') || sessionStorage.getItem('currentUser');
            const savedAdmin = localStorage.getItem('isAdmin') || sessionStorage.getItem('isAdmin');
            
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                isAdmin = savedAdmin === 'true';
                updateUIAfterLogin();
            }
        }

        function updateUIAfterLogin() {
            if (currentUser) {
                $('#loginBtn').hide();
                $('#registerBtn').hide();
                $('#usernameDisplay').text(currentUser.firstName || currentUser.name);
                
                if (isAdmin) {
                    $('#adminDropdown').show();
                    $('#userDropdown').hide();
                } else {
                    $('#userDropdown').show();
                    $('#adminDropdown').hide();
                }
                
                updateDashboardData();
            }
        }

        function logout() {
            currentUser = null;
            isAdmin = false;
            localStorage.removeItem('currentUser');
            localStorage.removeItem('isAdmin');
            sessionStorage.removeItem('currentUser');
            sessionStorage.removeItem('isAdmin');
            
            $('#loginBtn').show();
            $('#registerBtn').show();
            $('#userDropdown').hide();
            $('#adminDropdown').hide();
            
            showNotification('info', 'Logged out successfully');
        }

        // Dashboard Functions
        function showDashboard() {
            if (!currentUser) {
                showAuthModal('login');
                return;
            }
            updateDashboardData();
            $('#dashboardModal').modal('show');
        }

        function updateDashboardData() {
            if (!currentUser) return;

            if (isAdmin) {
                // Admin dashboard data
                $('#totalBalance').text('$' + getTotalPlatformBalance().toLocaleString());
                $('#activeInvestments').text(getActiveInvestmentsCount());
                $('#totalProfit').text('$' + getTotalPlatformProfit().toLocaleString());
                $('#todayProfit').text('$' + getTodayPlatformProfit().toLocaleString());
            } else {
                // User dashboard data
                const userData = getUserData(currentUser.email);
                if (userData) {
                    $('#totalBalance').text('$' + userData.balance.toLocaleString());
                    $('#activeInvestments').text(userData.investments.filter(i => i.status === 'active').length);
                    $('#totalProfit').text('$' + calculateTotalProfit(userData).toLocaleString());
                    $('#todayProfit').text('$' + calculateTodayProfit(userData).toLocaleString());
                    updateInvestmentHistory(userData);
                }
            }
        }

        function getUserData(email) {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            return users.find(u => u.email === email);
        }

        function calculateTotalProfit(user) {
            return user.investments.reduce((total, inv) => total + (inv.profit || 0), 0);
        }

        function calculateTodayProfit(user) {
            const today = new Date().toISOString().split('T')[0];
            return user.transactions
                .filter(t => t.type === 'profit' && t.date.includes(today))
                .reduce((total, t) => total + t.amount, 0);
        }

        function updateInvestmentHistory(user) {
            const historyHtml = user.investments.map(inv => `
                <tr>
                    <td>${inv.plan}</td>
                    <td>$${inv.amount.toLocaleString()}</td>
                    <td>${new Date(inv.startDate).toLocaleDateString()}</td>
                    <td>${new Date(inv.endDate).toLocaleDateString()}</td>
                    <td class="text-success">$${inv.profit?.toLocaleString() || '0'}</td>
                    <td><span class="badge bg-${inv.status === 'active' ? 'success' : 'secondary'}">${inv.status}</span></td>
                </tr>
            `).join('');
            $('#investmentHistory').html(historyHtml);
        }

        // Investment Functions
        function investNow(plan) {
            if (!currentUser) {
                showAuthModal('login');
                return;
            }

            const plans = {
                basic: { min: 500, max: 5000, dailyReturn: 0.032 },
                pro: { min: 5000, max: 50000, dailyReturn: 0.048 },
                vip: { min: 50000, max: 9999999, dailyReturn: 0.075 }
            };

            const selectedPlan = plans[plan];
            const amount = parseFloat(prompt(`Enter investment amount ($${selectedPlan.min} - $${selectedPlan.max}):`));
            
            if (!amount || amount < selectedPlan.min || amount > selectedPlan.max) {
                showNotification('error', `Amount must be between $${selectedPlan.min} and $${selectedPlan.max}`);
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.email === currentUser.email);
            
            if (userIndex !== -1) {
                const investment = {
                    id: Date.now(),
                    plan: plan.charAt(0).toUpperCase() + plan.slice(1),
                    amount: amount,
                    startDate: new Date().toISOString(),
                    endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),
                    dailyReturn: selectedPlan.dailyReturn,
                    status: 'active'
                };

                users[userIndex].investments.push(investment);
                localStorage.setItem('users', JSON.stringify(users));
                
                showNotification('success', `Successfully invested $${amount} in ${investment.plan} Plan`);
                updateDashboardData();
            }
        }

        // Crypto Address Management
        function loadCryptoAddresses() {
            const addresses = JSON.parse(localStorage.getItem('cryptoAddresses') || '{}');
            
            // Set defaults if not exists
            if (!addresses.BTC) {
                addresses.BTC = 'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh';
                addresses.ETH = '0x71C7656EC7ab88b098defB751B7401B5f6d8976F';
                addresses.USDT = 'TYASr8UVgUoSdxMJ5rS8H3dLF9BkTrBw1y';
                addresses.USDC = '0x71C7656EC7ab88b098defB751B7401B5f6d8976F';
                localStorage.setItem('cryptoAddresses', JSON.stringify(addresses));
            }

            // Display in admin panel
            $('#adminBtcAddress').val(addresses.BTC);
            $('#adminEthAddress').val(addresses.ETH);
            $('#adminUsdtAddress').val(addresses.USDT);
            $('#adminUsdcAddress').val(addresses.USDC);
        }

        function saveCryptoAddresses() {
            if (!isAdmin) {
                showNotification('error', 'Admin access required');
                return;
            }

            const addresses = {
                BTC: $('#adminBtcAddress').val(),
                ETH: $('#adminEthAddress').val(),
                USDT: $('#adminUsdtAddress').val(),
                USDC: $('#adminUsdcAddress').val()
            };

            localStorage.setItem('cryptoAddresses', JSON.stringify(addresses));
            showNotification('success', 'Crypto addresses updated successfully!');
        }

        function processDeposit() {
            if (!currentUser) return;

            const amount = parseFloat($('#depositAmount').val());
            const currency = $('#depositCurrency').val();
            
            if (!amount || amount < 100) {
                showNotification('error', 'Minimum deposit is $100');
                return;
            }

            const addresses = JSON.parse(localStorage.getItem('cryptoAddresses') || '{}');
            const address = addresses[currency];
            
            $('#cryptoAddresses').html(`
                <div class="alert alert-info">
                    <p>Send <strong>$${amount} worth of ${currency}</strong> to:</p>
                    <p class="deposit-address">${address}</p>
                    <p class="small text-muted">Network: ${currency === 'USDT' ? 'TRC20' : currency === 'BTC' ? 'Bitcoin' : 'ERC20'}</p>
                    <p class="small text-muted">Your deposit will be credited after 3 confirmations</p>
                </div>
            `);

            // Simulate deposit after 5 seconds
            setTimeout(() => {
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.email === currentUser.email);
                
                if (userIndex !== -1) {
                    users[userIndex].balance += amount;
                    users[userIndex].transactions.push({
                        type: 'deposit',
                        amount: amount,
                        date: new Date().toISOString(),
                        currency: currency
                    });
                    localStorage.setItem('users', JSON.stringify(users));
                    updateDashboardData();
                    showNotification('success', `Deposit of $${amount} received!`);
                }
            }, 5000);
        }

        function processWithdrawal() {
            if (!currentUser) return;

            const amount = parseFloat($('#withdrawAmount').val());
            const wallet = $('#withdrawWallet').val();
            
            if (!amount || amount < 50) {
                showNotification('error', 'Minimum withdrawal is $50');
                return;
            }

            if (!wallet) {
                showNotification('error', 'Please enter wallet address');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.email === currentUser.email);
            
            if (userIndex !== -1 && users[userIndex].balance >= amount) {
                users[userIndex].balance -= amount;
                users[userIndex].transactions.push({
                    type: 'withdrawal',
                    amount: amount,
                    date: new Date().toISOString(),
                    wallet: wallet,
                    status: 'processing'
                });
                localStorage.setItem('users', JSON.stringify(users));
                
                updateDashboardData();
                showNotification('success', `Withdrawal request for $${amount} submitted! Processing time: 5-10 minutes.`);
                
                // Simulate successful withdrawal notification
                setTimeout(() => {
                    showLiveNotification(`${currentUser.firstName} successfully withdrew $${amount.toLocaleString()}`);
                }, 3000);
            } else {
                showNotification('error', 'Insufficient balance');
            }
        }

        // AI Chat Functions
        function showAIChat() {
            if (!currentUser) {
                showAuthModal('login');
                return;
            }
            $('#aiChatModal').modal('show');
        }

        function sendAIMessage() {
            const message = $('#chatInput').val();
            if (!message.trim()) return;

            // Add user message
            addChatMessage('user', message);
            $('#chatInput').val('');

            // AI Response
            setTimeout(() => {
                let response = '';
                
                if (message.toLowerCase().includes('support') || message.toLowerCase().includes('problem') || message.toLowerCase().includes('help')) {
                    response = "I've forwarded your concern to our support team. They will contact you at your registered email within 24 hours. For immediate assistance, please email: stevenlogan362@gmail.com";
                    
                    // Save complaint for admin
                    saveComplaint(message);
                } else if (message.toLowerCase().includes('deposit') || message.toLowerCase().includes('address')) {
                    const addresses = JSON.parse(localStorage.getItem('cryptoAddresses') || '{}');
                    response = `For deposits, please use these addresses:
                    BTC: ${addresses.BTC || 'Not set'}
                    ETH: ${addresses.ETH || 'Not set'}
                    USDT: ${addresses.USDT || 'Not set'}`;
                } else if (message.toLowerCase().includes('trade') || message.toLowerCase().includes('buy') || message.toLowerCase().includes('sell')) {
                    response = getTradingAdvice();
                } else {
                    response = getGenericResponse();
                }
                
                addChatMessage('ai', response);
            }, 1000);
        }

        function addChatMessage(sender, message) {
            const bubbleClass = sender === 'user' ? 'user-message' : 'ai-message';
            const senderName = sender === 'user' ? 'You' : 'AI Assistant';
            
            const messageHtml = `
                <div class="${bubbleClass} ai-chat-bubble mb-3">
                    <strong>${senderName}:</strong> ${message}
                </div>
            `;
            
            $('#chatMessages').append(messageHtml);
            $('#chatMessages').scrollTop($('#chatMessages')[0].scrollHeight);
        }

        function getTradingAdvice() {
            const advice = [
                "Based on current market analysis, I recommend a BUY position on BTC with target at $65,000. Stop loss at $62,500.",
                "Market sentiment is bullish. Consider opening long positions on major cryptocurrencies with 2% risk per trade.",
                "EUR/USD shows bearish momentum. Short position recommended with target at 1.0750.",
                "Our AI signals indicate STRONG BUY for ETH with projected 8% gain in next 24 hours.",
                "Market volatility is high. Recommend reducing position sizes and using tighter stop losses."
            ];
            return advice[Math.floor(Math.random() * advice.length)];
        }

        function getGenericResponse() {
            const responses = [
                "I'm here to help with trading advice, market analysis, or platform assistance. What specific help do you need?",
                "For optimal results, consider diversifying your portfolio across multiple investment plans.",
                "Our AI trading system has an 89% success rate. Would you like me to explain how it works?",
                "Remember to always invest responsibly and never risk more than you can afford to lose.",
                "The platform offers automated trading to generate consistent profits. Would you like to know more?"
            ];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        function saveComplaint(message) {
            const complaints = JSON.parse(localStorage.getItem('aiComplaints') || '[]');
            complaints.push({
                user: currentUser.email,
                message: message,
                date: new Date().toISOString(),
                status: 'pending'
            });
            localStorage.setItem('aiComplaints', JSON.stringify(complaints));
        }

        // Admin Functions
        function showAdminPanel() {
            if (!isAdmin) {
                showNotification('error', 'Admin access required');
                return;
            }
            
            loadAdminData();
            $('#adminPanelModal').modal('show');
        }

        function showAdminTab(tabName) {
            $('.nav-tabs button').removeClass('active');
            $(`.nav-tabs button:contains('${tabName.charAt(0).toUpperCase() + tabName.slice(1)}')`).addClass('active');
            
            $('#adminCryptoTab, #adminUsersTab, #adminEmailTab, #adminComplaintsTab').hide();
            $(`#admin${tabName.charAt(0).toUpperCase() + tabName.slice(1)}Tab`).show();
        }

        function loadAdminData() {
            // Load users
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const usersHtml = users.map(user => `
                <tr>
                    <td>${user.id}</td>
                    <td>${user.firstName} ${user.lastName}</td>
                    <td>${user.email}</td>
                    <td>$${user.balance?.toLocaleString() || '0'}</td>
                    <td><span class="badge bg-success">Active</span></td>
                    <td>
                        <button class="btn btn-sm btn-info" onclick="editUser('${user.email}')">Edit</button>
                        <button class="btn btn-sm btn-warning" onclick="resetPassword('${user.email}')">Reset PW</button>
                    </td>
                </tr>
            `).join('');
            $('#usersTable').html(usersHtml);

            // Load complaints
            const complaints = JSON.parse(localStorage.getItem('aiComplaints') || '[]');
            const complaintsHtml = complaints.map(complaint => `
                <tr>
                    <td>${complaint.user}</td>
                    <td>${complaint.message}</td>
                    <td>${new Date(complaint.date).toLocaleDateString()}</td>
                    <td><span class="badge bg-${complaint.status === 'pending' ? 'warning' : 'success'}">${complaint.status}</span></td>
                </tr>
            `).join('');
            $('#complaintsTable').html(complaintsHtml);

            // Populate email user select
            const emailOptions = users.map(user => `<option value="${user.email}">${user.email}</option>`).join('');
            $('#emailUserSelect').append(emailOptions);
        }

        function sendBulkEmail() {
            const userEmail = $('#emailUserSelect').val();
            const subject = $('#emailSubject').val();
            const message = $('#emailMessage').val();

            if (!subject || !message) {
                showNotification('error', 'Please fill all fields');
                return;
            }

            // In a real application, this would connect to nodemailer
            showNotification('success', `Email queued for delivery to ${userEmail === 'all' ? 'all users' : userEmail}`);
            
            $('#emailSubject').val('');
            $('#emailMessage').val('');
        }

        // Market Data Functions
        function initializeMarketData() {
            // Create trading chart
            const ctx = document.createElement('canvas');
            $('#tradingChart').html(ctx);
            
            new Chart(ctx.getContext('2d'), {
                type: 'line',
                data: {
                    labels: Array.from({length: 24}, (_, i) => `${i}:00`),
                    datasets: [{
                        label: 'BTC/USD',
                        data: Array.from({length: 24}, () => Math.random() * 1000 + 63000),
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            ticks: { color: '#94a3b8' }
                        },
                        x: {
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            ticks: { color: '#94a3b8' }
                        }
                    }
                }
            });

            // Update prices every 3 seconds
            setInterval(updateMarketPrices, 3000);
        }

        function updateMarketPrices() {
            // Simulate price changes
            marketData.btc += (Math.random() - 0.5) * 100;
            marketData.eth += (Math.random() - 0.5) * 20;
            marketData.eur += (Math.random() - 0.5) * 0.01;

            $('#btcPrice').text('$' + marketData.btc.toFixed(2));
            $('#ethPrice').text('$' + marketData.eth.toFixed(2));
            $('#eurPrice').text(marketData.eur.toFixed(4));

            // Add random profit animation
            if (Math.random() > 0.7) {
                showProfitAnimation();
            }
        }

        // Live Notifications
        function startLiveNotifications() {
            // Show initial notification
            setTimeout(() => {
                showLiveNotification("Michael K. just made $5,240 profit from Bitcoin trading!");
            }, 2000);

            // Schedule random notifications
            setInterval(() => {
                const notifications = [
                    "Sarah J. successfully withdrew $12,500 to her bank account!",
                    "David L. earned $3,200 profit from Pro Plan investment!",
                    "New user registered with $5,000 initial deposit!",
                    "VIP member achieved 7.8% daily return on investment!",
                    "Instant withdrawal processed for $8,750!",
                    "AI trading system generated 92% accurate signals today!",
                    "Platform reaches $4.2B total trading volume!",
                    "User earned $45,000 total profit this month!"
                ];
                const randomNotif = notifications[Math.floor(Math.random() * notifications.length)];
                showLiveNotification(randomNotif);
            }, 15000);
        }

        function showLiveNotification(message) {
            const notification = $(`
                <div class="glass-card p-3 live-notification animate__animated animate__fadeInUp">
                    <div class="d-flex align-items-center">
                        <div class="profit-badge me-3">
                            <i class="fas fa-bolt me-1"></i> LIVE
                        </div>
                        <div>
                            <p class="mb-0 small">${message}</p>
                            <small class="text-muted">Just now</small>
                        </div>
                        <button class="btn-close btn-close-white ms-3" onclick="$(this).parent().parent().remove()"></button>
                    </div>
                </div>
            `);
            
            $('#liveNotifications').append(notification);
            
            // Remove after 5 seconds
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }

        function showProfitAnimation() {
            const tradingView = $('#tradingChart');
            const profit = $(`
                <div class="profit-animation">
                    +${(Math.random() * 2 + 0.5).toFixed(2)}%
                </div>
            `);
            
            const x = Math.random() * 80 + 10;
            profit.css({
                left: x + '%',
                bottom: '10px'
            });
            
            tradingView.append(profit);
            
            setTimeout(() => profit.remove(), 3000);
        }

        // Profit Accumulation System
        function startProfitAccumulation() {
            setInterval(() => {
                if (!currentUser || isAdmin) return;
                
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.email === currentUser.email);
                
                if (userIndex !== -1 && users[userIndex].investments.length > 0) {
                    let totalProfit = 0;
                    
                    users[userIndex].investments.forEach(inv => {
                        if (inv.status === 'active') {
                            const dailyProfit = inv.amount * inv.dailyReturn / 86400; // Per second
                            const profit = dailyProfit * (Math.random() * 0.5 + 0.75); // Random factor
                            totalProfit += profit;
                            
                            inv.profit = (inv.profit || 0) + profit;
                        }
                    });
                    
                    if (totalProfit > 0) {
                        users[userIndex].balance += totalProfit;
                        users[userIndex].transactions.push({
                            type: 'profit',
                            amount: totalProfit,
                            date: new Date().toISOString()
                        });
                        
                        localStorage.setItem('users', JSON.stringify(users));
                        
                        // Update dashboard if open
                        if ($('#dashboardModal').hasClass('show')) {
                            updateDashboardData();
                        }
                    }
                }
            }, 3000); // Update every 3 seconds
        }

        // Utility Functions
        function showNotification(type, message) {
            const alertClass = type === 'success' ? 'alert-success' : 
                              type === 'error' ? 'alert-danger' : 'alert-info';
            
            const notification = $(`
                <div class="alert ${alertClass} alert-dismissible fade show position-fixed" 
                     style="top: 80px; right: 20px; z-index: 1050; max-width: 300px;">
                    ${message}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            `);
            
            $('body').append(notification);
            
            setTimeout(() => notification.alert('close'), 3000);
        }

        // Platform statistics (for admin)
        function getTotalPlatformBalance() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            return users.reduce((total, user) => total + (user.balance || 0), 0);
        }

        function getActiveInvestmentsCount() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            return users.reduce((total, user) => total + user.investments.filter(i => i.status === 'active').length, 0);
        }

        function getTotalPlatformProfit() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            return users.reduce((total, user) => total + calculateTotalProfit(user), 0);
        }

        function getTodayPlatformProfit() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const today = new Date().toISOString().split('T')[0];
            
            return users.reduce((total, user) => {
                return total + user.transactions
                    .filter(t => t.type === 'profit' && t.date.includes(today))
                    .reduce((sum, t) => sum + t.amount, 0);
            }, 0);
        }

        // Demo functions
        function showDemo() {
            showNotification('info', 'Demo mode activated. You can explore all features.');
            currentUser = {
                firstName: 'Demo',
                lastName: 'User',
                email: 'demo@globaltrade360.com',
                balance: 5000,
                investments: [
                    {
                        plan: 'Pro',
                        amount: 2500,
                        startDate: new Date().toISOString(),
                        endDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),
                        profit: 320,
                        status: 'active'
                    }
                ]
            };
            updateUIAfterLogin();
        }

        function showSupport() {
            showNotification('info', 'Contact support at: stevenlogan362@gmail.com');
        }

        // Initialize with some demo data
        function initializeDemoData() {
            if (!localStorage.getItem('users')) {
                const demoUsers = [
                    {
                        id: 1,
                        firstName: 'John',
                        lastName: 'Doe',
                        email: 'john@example.com',
                        password: 'password123',
                        balance: 12500,
                        investments: [
                            {
                                id: 101,
                                plan: 'Pro',
                                amount: 5000,
                                startDate: '2024-01-15',
                                endDate: '2024-03-15',
                                dailyReturn: 0.048,
                                profit: 1250,
                                status: 'active'
                            }
                        ],
                        transactions: [],
                        joinDate: '2024-01-01'
                    }
                ];
                localStorage.setItem('users', JSON.stringify(demoUsers));
            }
        }

        // Initialize when page loads
        initializeDemoData();
    </script>
</body>
</html>
